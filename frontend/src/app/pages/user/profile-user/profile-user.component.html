<div class="mx-auto max-w-7xl">
<div class="mb-4">
        <app-page-breadcrumb pageTitle="Profile" />
    </div>

    <!-- ══════ SKELETON ══════ -->
    <div *ngIf="isLoading" class="animate-pulse">
        <div class="h-44 sm:h-52 w-full rounded-2xl bg-gray-200 dark:bg-gray-800"></div>
        <div class="bg-white dark:bg-gray-900 border border-t-0 border-gray-200 dark:border-white/[0.05] rounded-b-2xl px-6 py-6">
            <div class="flex items-end justify-between -mt-12 mb-5">
                <div class="w-24 h-24 rounded-2xl bg-gray-300 dark:bg-gray-700 ring-4 ring-white dark:ring-gray-900"></div>
                <div class="h-9 w-28 rounded-xl bg-gray-200 dark:bg-gray-700"></div>
            </div>
            <div class="h-7 w-48 rounded bg-gray-200 dark:bg-gray-700 mb-2"></div>
            <div class="h-4 w-72 rounded bg-gray-200 dark:bg-gray-700"></div>
        </div>
        <div class="mt-4 grid gap-4 grid-cols-1 lg:grid-cols-3">
            <div class="lg:col-span-2 rounded-2xl border border-gray-200 dark:border-white/[0.05] bg-white dark:bg-gray-900 p-6 space-y-4">
                <div class="h-4 w-32 rounded bg-gray-200 dark:bg-gray-700"></div>
                <div class="h-14 rounded-xl bg-gray-100 dark:bg-gray-800"></div>
                <div class="h-14 rounded-xl bg-gray-100 dark:bg-gray-800"></div>
                <div class="h-14 rounded-xl bg-gray-100 dark:bg-gray-800"></div>
            </div>
            <div class="rounded-2xl border border-gray-200 dark:border-white/[0.05] bg-white dark:bg-gray-900 p-6 space-y-4">
                <div class="h-4 w-24 rounded bg-gray-200 dark:bg-gray-700"></div>
                <div class="h-24 rounded-xl bg-gray-100 dark:bg-gray-800"></div>
                <div class="h-20 rounded-xl bg-gray-100 dark:bg-gray-800"></div>
            </div>
        </div>
    </div>

    <!-- ══════ CONTENT ══════ -->
    <div *ngIf="!isLoading" class="space-y-4">
        <app-user-meta-card [profile]="profile || mockedUser"/>
        <div class="grid gap-4 grid-cols-1 lg:grid-cols-3">
            <div class="lg:col-span-2">
                <app-user-info-card [profile]="profile || mockedUser" (profileSaved)="onProfileSaved($event)"/>
            </div>
            <div>
                <app-user-address-card
                        [userExist]="profile != null"
                        [addresses]="(profile?.addresses || mockedUser.addresses)"
                        (addressAdded)="onAddressAdded($event)"/>
            </div>
        </div>
    </div>
</div>