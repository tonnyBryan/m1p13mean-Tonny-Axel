<div class="rounded-2xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-white/[0.03]">

    <!-- SKELETON -->
    <div *ngIf="isLoading" class="flex items-center gap-5">
        <div class="flex-shrink-0">
            <div class="w-16 h-16 rounded-2xl bg-gray-200 dark:bg-gray-700 animate-pulse"></div>
        </div>
        <div class="flex-1 space-y-2.5">
            <div class="h-5 w-40 rounded-lg bg-gray-200 dark:bg-gray-700 animate-pulse"></div>
            <div class="h-3.5 w-52 rounded-lg bg-gray-200 dark:bg-gray-700 animate-pulse"></div>
            <div class="h-3 w-28 rounded-lg bg-gray-200 dark:bg-gray-700 animate-pulse"></div>
        </div>
        <div class="w-24 h-8 rounded-xl bg-gray-200 dark:bg-gray-700 animate-pulse flex-shrink-0"></div>
    </div>

    <!-- DATA -->
    <div *ngIf="!isLoading && user" class="flex items-center gap-5">

        <!-- Avatar -->
        <div class="relative flex-shrink-0">
            <div class="w-16 h-16 rounded-2xl overflow-hidden ring-2 ring-brand-500/20">
                <img *ngIf="user.avatar"
                     [src]="user.avatar"
                     [alt]="user.name"
                     class="w-full h-full object-cover"/>
                <!-- Initiales si pas d'avatar -->
                <div *ngIf="!user.avatar"
                     class="w-full h-full bg-gradient-to-br from-brand-500 to-brand-600 flex items-center justify-center">
                    <span class="text-xl font-bold text-white">{{ getInitials() }}</span>
                </div>
            </div>
            <span class="absolute -bottom-1 -right-1 w-4 h-4 rounded-full bg-emerald-500 border-2 border-white dark:border-gray-900"></span>
        </div>

        <!-- Info -->
        <div class="flex-1 min-w-0">
            <div class="flex items-center gap-2 flex-wrap">
                <h2 class="text-lg font-bold text-gray-800 dark:text-white/90 truncate">
                    {{ user.name }}
                </h2>
                <span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-brand-50 dark:bg-brand-900/20 text-brand-700 dark:text-brand-300">
                    Customer
                </span>
            </div>
            <p class="text-sm text-gray-500 dark:text-gray-400 truncate mt-0.5">{{ user.email }}</p>
            <div class="flex items-center gap-1.5 mt-2">
                <svg class="w-3.5 h-3.5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                </svg>
                <span class="text-xs text-gray-400 dark:text-gray-500">{{ getMemberDuration() }}</span>
            </div>
        </div>

        <!-- Edit profile -->
        <a routerLink="/v1/profile"
           class="flex-shrink-0 inline-flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-brand-600 dark:text-brand-400 bg-brand-50 dark:bg-brand-900/20 hover:bg-brand-100 dark:hover:bg-brand-900/30 rounded-xl transition-all duration-200">
            <svg class="w-3.5 h-3.5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5">
                <path stroke-linecap="round" stroke-linejoin="round" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"/>
            </svg>
            Edit Profile
        </a>
    </div>

</div>