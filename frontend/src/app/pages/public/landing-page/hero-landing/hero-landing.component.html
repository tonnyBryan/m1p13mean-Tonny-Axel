<section class="relative min-h-screen flex items-center overflow-hidden bg-white dark:bg-gray-950 ">

    <div class="absolute inset-0 pointer-events-none">
        <div class="absolute top-1/4 -left-32 w-96 h-96 bg-brand-400/10 dark:bg-brand-500/10 rounded-full blur-3xl"></div>
        <div class="absolute bottom-1/4 -right-32 w-96 h-96 bg-purple-400/10 dark:bg-purple-500/10 rounded-full blur-3xl"></div>
        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-brand-300/5 rounded-full blur-3xl"></div>
    </div>

    <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24 lg:py-32">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">

            <div class="text-center lg:text-left">

                <div class="reveal hero-reveal inline-flex items-center gap-2 px-3 py-1.5 bg-brand-50 dark:bg-brand-900/30 border border-brand-200 dark:border-brand-800 rounded-full mb-6">
                    <span class="w-2 h-2 rounded-full bg-brand-500 animate-pulse flex-shrink-0"></span>
                    <span class="text-xs font-semibold text-brand-700 dark:text-brand-300 whitespace-nowrap"
                          [class.badge-text-idle]="badgeAnimState === 'idle'"
                          [class.badge-text-exit]="badgeAnimState === 'exit'"
                          [class.badge-text-enter]="badgeAnimState === 'enter'">
                        {{ badgeCurrentText }}
                    </span>
                </div>

                <h1 class="reveal hero-reveal reveal-delay-1 text-4xl sm:text-5xl lg:text-6xl font-bold text-gray-900 dark:text-white leading-tight mb-6">
                    One platform,
                    <span class="relative">
                        <span class="text-transparent bg-clip-text bg-gradient-to-r from-brand-500 to-purple-500">
                            all the stores
                        </span>
                    </span>
                    you love.
                </h1>

                <p class="reveal hero-reveal reveal-delay-2 text-lg text-gray-500 dark:text-gray-400 leading-relaxed mb-10 max-w-lg mx-auto lg:mx-0">
                    Discover hundreds of stores, browse products, and order with ease — all in one place. Stores manage their catalog, clients enjoy a seamless experience.
                </p>

                <!-- CTA Buttons row -->
                <div class="reveal hero-reveal reveal-delay-3 flex flex-col sm:flex-row items-center justify-center lg:justify-start gap-4 mb-5">
                    <ng-container *ngIf="isLoading">
                        <div class="w-full sm:w-56 h-14 rounded-xl bg-gray-200 dark:bg-gray-700 animate-pulse"></div>
                        <div class="w-full sm:w-48 h-14 rounded-xl bg-gray-200 dark:bg-gray-700 animate-pulse"></div>
                    </ng-container>

                    <ng-container *ngIf="!isLoading">
                        <a [routerLink]="getCtaRoute()"
                           class="w-full sm:w-auto inline-flex items-center justify-center gap-2 px-8 py-4 bg-gradient-to-r from-brand-500 to-brand-600 hover:from-brand-600 hover:to-brand-700 text-white font-bold rounded-xl shadow-lg shadow-brand-500/25 hover:shadow-brand-500/40 hover:shadow-xl active:scale-[0.98] transition-all duration-200">
                            {{ getCtaLabel() }}
                            <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M13 7l5 5m0 0l-5 5m5-5H6"/>
                            </svg>
                        </a>

                        <a *ngIf="!currentUser" href="#features"
                           class="w-full sm:w-auto inline-flex items-center justify-center gap-2 px-8 py-4 rounded-xl border-2 border-gray-900 dark:border-white bg-transparent text-gray-900 dark:text-white font-semibold hover:bg-gray-900 hover:text-white dark:hover:bg-white dark:hover:text-gray-900 transition-all duration-200 active:scale-[0.98]">
                            See how it works
                        </a>
                    </ng-container>
                </div>

                <!-- ✨ Bouton Explore — thème brand cohérent, style pill subtil -->
                <div *ngIf="!isLoading && getDiscoverRoute()"
                     class="reveal hero-reveal reveal-delay-3 flex justify-center lg:justify-start mb-10">
                    <a [routerLink]="getDiscoverRoute()"
                       class="group inline-flex items-center gap-3 px-5 py-2.5 rounded-2xl border border-brand-200 dark:border-brand-800/60 bg-brand-50/60 dark:bg-brand-900/10 hover:bg-brand-50 dark:hover:bg-brand-900/20 hover:border-brand-400 dark:hover:border-brand-600 hover:shadow-md hover:shadow-brand-500/10 transition-all duration-300 active:scale-[0.98]">

                        <div class="w-7 h-7 rounded-lg bg-brand-100 dark:bg-brand-900/40 flex items-center justify-center flex-shrink-0 group-hover:bg-brand-200 dark:group-hover:bg-brand-800/60 transition-colors duration-200">
                            <svg class="w-3.5 h-3.5 text-brand-600 dark:text-brand-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/>
                            </svg>
                        </div>

                        <div class="text-left">
                            <p class="text-sm font-bold text-brand-700 dark:text-brand-300 leading-none mb-0.5">{{ getDiscoverLabel() }}</p>
                            <p class="text-xs text-brand-500/70 dark:text-brand-500/80">500+ stores · No account needed</p>
                        </div>

                        <svg class="w-4 h-4 text-brand-400 dark:text-brand-500 group-hover:translate-x-1 transition-transform duration-200 ml-0.5 flex-shrink-0"
                             fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M13 7l5 5m0 0l-5 5m5-5H6"/>
                        </svg>
                    </a>
                </div>

                <!-- Social proof -->
                <div class="reveal hero-reveal reveal-delay-4 flex flex-col sm:flex-row items-center justify-center lg:justify-start gap-6">
                    <div class="flex items-center gap-3">
                        <div class="flex -space-x-2">
                            <div class="w-8 h-8 rounded-full bg-gradient-to-br from-pink-400 to-red-400 border-2 border-white dark:border-gray-950"></div>
                            <div class="w-8 h-8 rounded-full bg-gradient-to-br from-blue-400 to-cyan-400 border-2 border-white dark:border-gray-950"></div>
                            <div class="w-8 h-8 rounded-full bg-gradient-to-br from-green-400 to-emerald-400 border-2 border-white dark:border-gray-950"></div>
                            <div class="w-8 h-8 rounded-full bg-gradient-to-br from-amber-400 to-orange-400 border-2 border-white dark:border-gray-950"></div>
                        </div>
                        <div class="text-left">
                            <p class="text-sm font-semibold text-gray-900 dark:text-white">500+ stores</p>
                            <p class="text-xs text-gray-500 dark:text-gray-400">already on board</p>
                        </div>
                    </div>

                    <div class="w-px h-8 bg-gray-200 dark:bg-gray-700 hidden sm:block"></div>

                    <div class="flex items-center gap-2">
                        <div class="flex gap-0.5">
                            <svg *ngFor="let s of [1,2,3,4,5]" class="w-4 h-4 text-amber-400 fill-amber-400" viewBox="0 0 20 20">
                                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                            </svg>
                        </div>
                        <p class="text-sm font-semibold text-gray-900 dark:text-white">4.9/5</p>
                        <p class="text-xs text-gray-500 dark:text-gray-400">from 1k+ reviews</p>
                    </div>
                </div>
            </div>

            <!-- RIGHT: Visual -->
            <div class="reveal-scale hero-reveal reveal-delay-2 relative hidden lg:block">
                <div class="relative bg-white dark:bg-gray-800 rounded-3xl shadow-2xl border border-gray-200 dark:border-gray-700 p-6 ml-8">
                    <div class="flex items-center justify-between mb-6">
                        <div class="flex items-center gap-2">
                            <div class="w-8 h-8 rounded-xl bg-gradient-to-br from-brand-500 to-brand-600"></div>
                            <div class="h-2.5 w-20 bg-gray-200 dark:bg-gray-700 rounded-full"></div>
                        </div>
                        <div class="flex gap-1.5">
                            <div class="w-2 h-2 rounded-full bg-red-400"></div>
                            <div class="w-2 h-2 rounded-full bg-amber-400"></div>
                            <div class="w-2 h-2 rounded-full bg-green-400"></div>
                        </div>
                    </div>
                    <div class="grid grid-cols-2 gap-3 mb-4">

                        <!-- Skeleton loading -->
                        <ng-container *ngIf="heroProductsLoading">
                            <div *ngFor="let s of [1,2]"
                                 class="bg-gray-50 dark:bg-gray-900 rounded-2xl p-3 border border-gray-100 dark:border-gray-700">
                                <!-- Image skeleton -->
                                <div class="aspect-square rounded-xl mb-3 bg-gray-200 dark:bg-gray-700 animate-pulse relative overflow-hidden">
                                    <div class="absolute inset-0 -translate-x-full animate-[shimmer_1.5s_infinite] bg-gradient-to-r from-transparent via-white/20 dark:via-white/5 to-transparent"></div>
                                </div>
                                <!-- Text skeleton -->
                                <div class="h-2.5 w-3/4 bg-gray-200 dark:bg-gray-700 rounded-full animate-pulse mb-2"></div>
                                <div class="h-2.5 w-1/2 bg-gray-200 dark:bg-gray-700 rounded-full animate-pulse"></div>
                            </div>
                        </ng-container>

                        <!-- Produits réels -->
                        <ng-container *ngIf="!heroProductsLoading">
                            <div *ngFor="let item of heroProducts"
                                 class="bg-gray-50 dark:bg-gray-900 rounded-2xl p-3 border border-gray-100 dark:border-gray-700 hover:shadow-md transition-all">
                                <div class="aspect-square rounded-xl overflow-hidden mb-3 bg-gray-100 dark:bg-gray-800">
                                    <img [src]="getProductImage(item)" [alt]="item.name"
                                         class="w-full h-full object-cover transition-transform duration-300 hover:scale-105"/>
                                </div>
                                <p class="text-xs font-semibold text-gray-900 dark:text-white truncate">{{ item.name }}</p>
                                <p class="text-xs text-brand-600 dark:text-brand-400 font-bold">{{ getProductPrice(item) }}</p>
                            </div>
                        </ng-container>

                    </div>
                    <div class="flex items-center gap-2 p-3 bg-brand-50 dark:bg-brand-900/20 rounded-xl border border-brand-100 dark:border-brand-800">
                        <div class="w-8 h-8 rounded-lg bg-brand-500 flex items-center justify-center flex-shrink-0">
                            <svg class="w-4 h-4 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"/>
                            </svg>
                        </div>
                        <div class="flex-1">
                            <p class="text-xs font-semibold text-brand-700 dark:text-brand-300">Added to cart!</p>
                            <p class="text-xs text-brand-500 dark:text-brand-400">{{ heroProducts[0]?.name || 'Summer Dress' }} × 1</p>
                        </div>
                        <svg class="w-4 h-4 text-brand-500" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                        </svg>
                    </div>
                </div>
                <div class="absolute -top-4 -left-4 bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 px-4 py-3 flex items-center gap-3">
                    <div class="w-8 h-8 rounded-xl bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center">
                        <svg class="w-4 h-4 text-emerald-600 dark:text-emerald-400" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"/>
                            <path fill-rule="evenodd" d="M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                        </svg>
                    </div>
                    <div>
                        <p class="text-xs font-bold text-gray-900 dark:text-white">Order confirmed</p>
                        <p class="text-xs text-gray-500 dark:text-gray-400">Just now</p>
                    </div>
                </div>
                <div class="absolute -bottom-4 -right-4 bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 px-4 py-3 flex items-center gap-3">
                    <div class="w-8 h-8 rounded-xl bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center">
                        <svg class="w-4 h-4 text-amber-500" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                        </svg>
                    </div>
                    <div>
                        <p class="text-xs font-bold text-gray-900 dark:text-white">4.9 rating</p>
                        <p class="text-xs text-gray-500 dark:text-gray-400">1,200+ reviews</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>